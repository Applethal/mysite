{{ define "main" }}

<style>
a {
    color: yellow;
    text-decoration: none;
}
</style>

<main id="main">
    <p>It appears that you chose to enter the realm of the unknown, even I don't know what lies beyond this URL. Fret not, however, you shall not leave this page with empty hands. Here's some eye
        candy for you:</p>
    <div style="text-align: center;">
        <script type="text/javascript">
            function getRandomInt(min, max) {
                min = Math.ceil(min);
                max = Math.floor(max);
                return Math.floor(Math.random() * (max - min + 1)) + min;
            }

            var imagesData = [
                {{ range readDir "static/random" }}
            "{{ .Name }}",
                {{ end }}
            ];

            var randomIndex = getRandomInt(0, imagesData.length - 1);
            var randomImage = imagesData[randomIndex];

            var captions = {
    "neko-neco.gif": "You have laid your eyes on a rare image, consider yourself lucky!",
    "chicken.png": "Picture provided by <a href=\"https://www.instagram.com/zsashalovescats/\">zsashalovescats on Instagram</a>",
    "hello_kitty.png": "Gasoline container, provided by <a href=\"https://www.instagram.com/rhubarcode/\">rhubarcode on Instagram</a>",
};


            var caption = captions[randomImage] || "";

            document.write('<img src="/random/' + randomImage + '" alt="Random Image">');
            document.write('<p>' + caption + '</p>');
        </script>
    </div>
</main>
{{ end }}
